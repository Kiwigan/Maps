{"ast":null,"code":"var _jsxFileName = \"C:\\\\MyWebProject\\\\kioskmaps\\\\frontend\\\\src\\\\components\\\\Maps.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { GoogleMap, useLoadScript, MarkerF } from '@react-google-maps/api';\nimport useFetch from \"./useFetch\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FetchKiosks() {\n  _s();\n  const [Kiosk, setKiosk] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const {\n        error,\n        isPending,\n        data: kiosks\n      } = await fetch('http://localhost:8000/kiosk');\n      setKiosk(kiosks);\n    };\n    fetchData();\n  }, []);\n  return Kiosk;\n}\n_s(FetchKiosks, \"JFi5meio695wQH0z/A/LCpxDxDo=\");\n_c = FetchKiosks;\nasync function Location(position) {\n  //const { error, isPending, data: kiosks } = await useFetch('http://localhost:8000/kiosk');\n  kiosks = FetchKiosks();\n  console.log(kiosks);\n  let array = [];\n  kiosks.forEach(kiosk => {\n    if (array.length != 5) {\n      array.push(kiosk);\n    } else {\n      for (let i = 0; i < array.length; i++) {\n        const dist1 = calculateDistance(position.lat, position.lng, array[i].latitude, array[i].logitude);\n        const dist2 = calculateDistance(position.lat, position.lng, kiosk.latitude, kiosk.logitude);\n        if (dist2 < dist1) {\n          array.splice(i, 1);\n          array.push(kiosk);\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [array.forEach(kiosk => {\n      const lat = kiosk.latitude;\n      const lng = kiosk.longitude;\n      /*#__PURE__*/_jsxDEV(MarkerF, {\n        position: {\n          lat: lat,\n          lng: lng\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this);\n    }), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Location;\nfunction calculateDistance(x1, y1, x2, y2) {\n  const distx = x1 - x2;\n  const disty = y1 - y2;\n  var dist = Math.power(Math.power(distx, 2) + Math.power(disty, 2), 0.5);\n  return dist;\n}\n\n//const center = {lat:1.3046688076702777, lng: 103.80008079564587}\nconst Maps = lat => {\n  _s2();\n  const {\n    isLoaded\n  } = useLoadScript({\n    googleMapsApiKey: \"AIzaSyCUvExdvtB4lKu2IJjTfBka8254ImunKnk\"\n  });\n  console.log(lat);\n  if (!isLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(GoogleMap, {\n    zoom: 15,\n    center: lat,\n    mapContainerClassName: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(MarkerF, {\n      position: lat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Location, {\n      location: lat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n_s2(Maps, \"fRYUc8216GFzAjlYDEKboTmtS+U=\", false, function () {\n  return [useLoadScript];\n});\n_c3 = Maps;\nexport default Maps;\n\n/*\r\n            { error && <div>{ error }</div> }\r\n            { isPending && <div>Loading...</div> }\r\n            {kiosk && kiosk.map(kiosk => (\r\n                <div>\r\n                <h3>Location of {kiosk.name}</h3>\r\n                <h3>{kiosk.latitude}</h3>\r\n                <h3>{kiosk.longitude}</h3>\r\n                </div>\r\n            ))}\r\n\r\n            <Location position={lat}/>\r\n            */\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FetchKiosks\");\n$RefreshReg$(_c2, \"Location\");\n$RefreshReg$(_c3, \"Maps\");","map":{"version":3,"names":["GoogleMap","useLoadScript","MarkerF","useFetch","React","jsxDEV","_jsxDEV","FetchKiosks","_s","Kiosk","setKiosk","useState","useEffect","fetchData","error","isPending","data","kiosks","fetch","_c","Location","position","console","log","array","forEach","kiosk","length","push","i","dist1","calculateDistance","lat","lng","latitude","logitude","dist2","splice","children","longitude","fileName","_jsxFileName","lineNumber","columnNumber","_c2","x1","y1","x2","y2","distx","disty","dist","Math","power","Maps","_s2","isLoaded","googleMapsApiKey","zoom","center","mapContainerClassName","location","_c3","$RefreshReg$"],"sources":["C:/MyWebProject/kioskmaps/frontend/src/components/Maps.js"],"sourcesContent":["import { GoogleMap, useLoadScript, MarkerF } from '@react-google-maps/api';\r\nimport useFetch from \"./useFetch\";\r\nimport React from 'react';\r\n\r\n\r\nfunction FetchKiosks() {\r\n    const [Kiosk, setKiosk] = useState([]);\r\n    useEffect(() => {\r\n      const fetchData = async () => {\r\n        const { error, isPending, data: kiosks } = await fetch('http://localhost:8000/kiosk');\r\n        setKiosk(kiosks);\r\n      };\r\n  \r\n      fetchData();\r\n    }, []);\r\n    return Kiosk;\r\n}\r\n\r\nasync function Location(position){\r\n    //const { error, isPending, data: kiosks } = await useFetch('http://localhost:8000/kiosk');\r\n    kiosks = FetchKiosks();\r\n    console.log(kiosks);\r\n    let array = [];\r\n    kiosks.forEach((kiosk) => {\r\n\r\n        if(array.length != 5){\r\n            array.push(kiosk);\r\n        }\r\n        else{\r\n            for (let i = 0; i < array.length; i++){\r\n                const dist1 =calculateDistance(position.lat, position.lng, array[i].latitude, array[i].logitude);\r\n                const dist2 =calculateDistance(position.lat, position.lng, kiosk.latitude, kiosk.logitude);\r\n                if (dist2 < dist1){\r\n                    array.splice(i, 1);\r\n                    array.push(kiosk);\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n    return(\r\n        <div>\r\n            {array.forEach((kiosk) => {\r\n                const lat = kiosk.latitude;\r\n                const lng= kiosk.longitude;\r\n                <MarkerF position={{lat:lat, lng: lng}}/>\r\n            })};\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction calculateDistance(x1, y1, x2, y2){\r\n    const distx = (x1) - (x2);\r\n    const disty = (y1) - (y2);\r\n    var dist = Math.power(Math.power(distx, 2) + Math.power(disty, 2), 0.5);\r\n    return dist;\r\n\r\n    \r\n}\r\n\r\n\r\n\r\n//const center = {lat:1.3046688076702777, lng: 103.80008079564587}\r\nconst Maps = (lat) => {\r\n    const {isLoaded} = useLoadScript({\r\n        googleMapsApiKey: \"AIzaSyCUvExdvtB4lKu2IJjTfBka8254ImunKnk\",\r\n    });\r\n    console.log(lat);\r\n    if(!isLoaded) return <div>Loading...</div>;\r\n    return ( \r\n        <GoogleMap zoom={15} center={lat} mapContainerClassName='map-container'>\r\n            <MarkerF position={lat}/>\r\n            <Location location={lat}/>\r\n        </GoogleMap>\r\n     );\r\n}\r\n \r\nexport default Maps;\r\n\r\n/*\r\n            { error && <div>{ error }</div> }\r\n            { isPending && <div>Loading...</div> }\r\n            {kiosk && kiosk.map(kiosk => (\r\n                <div>\r\n                <h3>Location of {kiosk.name}</h3>\r\n                <h3>{kiosk.latitude}</h3>\r\n                <h3>{kiosk.longitude}</h3>\r\n                </div>\r\n            ))}\r\n\r\n            <Location position={lat}/>\r\n            */"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}