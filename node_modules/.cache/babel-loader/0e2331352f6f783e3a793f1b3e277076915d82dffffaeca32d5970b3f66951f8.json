{"ast":null,"code":"var _jsxFileName = \"C:\\\\MyWebProject\\\\kioskmaps\\\\frontend\\\\src\\\\components\\\\Maps.js\",\n  _s = $RefreshSig$();\nimport { GoogleMap, useLoadScript, MarkerF } from '@react-google-maps/api';\nimport useFetch from \"./useFetch\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Location(position, kiosks) {\n  //const { error, isPending, data: kiosks } = useFetch('http://localhost:8000/kiosk');\n\n  console.log(kiosks);\n  let array = [];\n  kiosks.forEach(kiosk => {\n    if (array.length != 5) {\n      array.push(kiosk);\n    } else {\n      for (let i = 0; i < array.length; i++) {\n        const dist1 = calculateDistance(position.lat, position.lng, array[i].latitude, array[i].logitude);\n        const dist2 = calculateDistance(position.lat, position.lng, kiosk.latitude, kiosk.logitude);\n        if (dist2 < dist1) {\n          array.splice(i, 1);\n          array.push(kiosk);\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [array.forEach(kiosk => {\n      const lat = kiosk.latitude;\n      const lng = kiosk.longitude;\n      /*#__PURE__*/_jsxDEV(MarkerF, {\n        position: {\n          lat: lat,\n          lng: lng\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this);\n    }), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n_c = Location;\nfunction calculateDistance(x1, y1, x2, y2) {\n  const distx = x1 - x2;\n  const disty = y1 - y2;\n  var dist = Math.power(Math.power(distx, 2) + Math.power(disty, 2), 0.5);\n  return dist;\n}\n\n//const center = {lat:1.3046688076702777, lng: 103.80008079564587}\nconst Maps = lat => {\n  _s();\n  const {\n    error,\n    isPending,\n    data: kiosks\n  } = useFetch('http://localhost:8000/kiosk');\n  const {\n    isLoaded\n  } = useLoadScript({\n    googleMapsApiKey: \"AIzaSyCUvExdvtB4lKu2IJjTfBka8254ImunKnk\"\n  });\n  console.log(lat);\n  if (!isLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(GoogleMap, {\n    zoom: 15,\n    center: lat,\n    mapContainerClassName: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(MarkerF, {\n      position: lat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Location, {\n      location: lat,\n      kiosks: kiosks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(Maps, \"7tHNfiYZcZN5Sk6xKYvDxS9Li1s=\", false, function () {\n  return [useFetch, useLoadScript];\n});\n_c2 = Maps;\nexport default Maps;\n\n/*\r\n            { error && <div>{ error }</div> }\r\n            { isPending && <div>Loading...</div> }\r\n            {kiosk && kiosk.map(kiosk => (\r\n                <div>\r\n                <h3>Location of {kiosk.name}</h3>\r\n                <h3>{kiosk.latitude}</h3>\r\n                <h3>{kiosk.longitude}</h3>\r\n                </div>\r\n            ))}\r\n\r\n            <Location position={lat}/>\r\n            */\nvar _c, _c2;\n$RefreshReg$(_c, \"Location\");\n$RefreshReg$(_c2, \"Maps\");","map":{"version":3,"names":["GoogleMap","useLoadScript","MarkerF","useFetch","React","jsxDEV","_jsxDEV","Location","position","kiosks","console","log","array","forEach","kiosk","length","push","i","dist1","calculateDistance","lat","lng","latitude","logitude","dist2","splice","children","longitude","fileName","_jsxFileName","lineNumber","columnNumber","_c","x1","y1","x2","y2","distx","disty","dist","Math","power","Maps","_s","error","isPending","data","isLoaded","googleMapsApiKey","zoom","center","mapContainerClassName","location","_c2","$RefreshReg$"],"sources":["C:/MyWebProject/kioskmaps/frontend/src/components/Maps.js"],"sourcesContent":["import { GoogleMap, useLoadScript, MarkerF } from '@react-google-maps/api';\r\nimport useFetch from \"./useFetch\";\r\nimport React from 'react';\r\n\r\n\r\n\r\nfunction Location(position, kiosks){\r\n    //const { error, isPending, data: kiosks } = useFetch('http://localhost:8000/kiosk');\r\n\r\n    console.log(kiosks);\r\n    let array = [];\r\n    kiosks.forEach((kiosk) => {\r\n\r\n        if(array.length != 5){\r\n            array.push(kiosk);\r\n        }\r\n        else{\r\n            for (let i = 0; i < array.length; i++){\r\n                const dist1 =calculateDistance(position.lat, position.lng, array[i].latitude, array[i].logitude);\r\n                const dist2 =calculateDistance(position.lat, position.lng, kiosk.latitude, kiosk.logitude);\r\n                if (dist2 < dist1){\r\n                    array.splice(i, 1);\r\n                    array.push(kiosk);\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n    return(\r\n        <div>\r\n            {array.forEach((kiosk) => {\r\n                const lat = kiosk.latitude;\r\n                const lng= kiosk.longitude;\r\n                <MarkerF position={{lat:lat, lng: lng}}/>\r\n            })};\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction calculateDistance(x1, y1, x2, y2){\r\n    const distx = (x1) - (x2);\r\n    const disty = (y1) - (y2);\r\n    var dist = Math.power(Math.power(distx, 2) + Math.power(disty, 2), 0.5);\r\n    return dist;\r\n}\r\n\r\n\r\n\r\n//const center = {lat:1.3046688076702777, lng: 103.80008079564587}\r\nconst Maps = (lat) => {\r\n    const { error, isPending, data: kiosks } = useFetch('http://localhost:8000/kiosk');\r\n    const {isLoaded} = useLoadScript({\r\n        googleMapsApiKey: \"AIzaSyCUvExdvtB4lKu2IJjTfBka8254ImunKnk\",\r\n    });\r\n    console.log(lat);\r\n    if(!isLoaded) return <div>Loading...</div>;\r\n    return ( \r\n        <GoogleMap zoom={15} center={lat} mapContainerClassName='map-container'>\r\n            <MarkerF position={lat}/>\r\n            <Location location={lat} kiosks={kiosks}/>\r\n        </GoogleMap>\r\n     );\r\n}\r\n \r\nexport default Maps;\r\n\r\n/*\r\n            { error && <div>{ error }</div> }\r\n            { isPending && <div>Loading...</div> }\r\n            {kiosk && kiosk.map(kiosk => (\r\n                <div>\r\n                <h3>Location of {kiosk.name}</h3>\r\n                <h3>{kiosk.latitude}</h3>\r\n                <h3>{kiosk.longitude}</h3>\r\n                </div>\r\n            ))}\r\n\r\n            <Location position={lat}/>\r\n            */"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}